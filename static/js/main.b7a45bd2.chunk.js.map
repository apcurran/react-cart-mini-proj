{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","updatedCart","filter","item","id","payload","incTempCart","map","amount","decTempCart","reduce","cartTotal","cartItem","price","itemTotal","total","Number","toFixed","loading","Error","API_URL","AppContext","React","createContext","initState","title","img","AppProvider","children","useReducer","dispatch","a","fetch","response","json","data","console","error","useEffect","getData","Provider","value","clearCart","removeItem","increaseItemQty","decreaseItemQty","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b7a45bd2.chunk.js","sourcesContent":["function reducer(state, action) {\n    switch (action.type) {\n        case \"CLEAR_CART\":\n            return {\n                ...state,\n                cart: []\n            };\n        case \"REMOVE_ITEM\":\n            const updatedCart = state.cart.filter(item => {\n                return item.id !== action.payload;\n            });\n\n            return {\n                ...state,\n                cart: updatedCart\n            };\n        case \"INCREASE_ITEM_QTY\":\n            let incTempCart = state.cart.map(item => {\n                if (item.id === action.payload) {\n                    return {\n                        ...item,\n                        amount: item.amount + 1\n                    };\n                } else {\n                    return item;\n                }\n            });\n\n            return {\n                ...state,\n                cart: incTempCart\n            };\n        case \"DECREASE_ITEM_QTY\":\n            let decTempCart = state.cart\n                .map(item => {\n                    if (item.id === action.payload) {\n                        return {\n                            ...item,\n                            amount: item.amount - 1\n                        };\n                    } else {\n                        return item;\n                    }\n                })\n                .filter(item => item.amount !== 0);\n\n            return {\n                ...state,\n                cart: decTempCart\n            };\n        case \"GET_TOTAL\":\n            let { total, amount } = state.cart.reduce((cartTotal, cartItem) => {\n                const { price, amount } = cartItem;\n                const itemTotal = price * amount;\n\n                cartTotal.amount += amount;\n                cartTotal.total += itemTotal;\n\n                return cartTotal;\n            }, { total: 0, amount: 0 });\n\n            total = Number(total.toFixed(2));\n\n            return {\n                ...state,\n                total,\n                amount\n            };\n        case \"LOADING\":\n            return {\n                ...state,\n                loading: true\n            };\n        case \"DISPLAY_ITEMS\":\n            return {\n                ...state,\n                cart: action.payload,\n                loading: false\n            };\n        default:\n            throw new Error(\"No matching action type.\");\n    }\n}\n\nexport default reducer;","import React, { useContext, useReducer, useEffect } from 'react';\nimport cartItems from './data';\nimport reducer from './reducer';\n\nconst API_URL = 'https://course-api.com/react-useReducer-cart-project';\nconst AppContext = React.createContext();\n\nconst initState = {\n  loading: false,\n  cart: cartItems,\n  total: 0,\n  amount: 0\n};\n\nfunction AppProvider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initState);\n\n  useEffect(() => {\n    dispatch({ type: \"GET_TOTAL\" });\n  }, [state.cart]);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  function clearCart() {\n    dispatch({ type: \"CLEAR_CART\" });\n  }\n\n  function removeItem(id) {\n    dispatch({ type: \"REMOVE_ITEM\", payload: id });\n  }\n\n  function increaseItemQty(id) {\n    dispatch({ type: \"INCREASE_ITEM_QTY\", payload: id });\n  }\n\n  function decreaseItemQty(id) {\n    dispatch({ type: \"DECREASE_ITEM_QTY\", payload: id });\n  }\n\n  // API\n  async function getData() {\n    dispatch({ type: \"LOADING\" });\n\n    try {\n      const response = await fetch(API_URL);\n      const data = await response.json();\n\n      dispatch({ type: \"DISPLAY_ITEMS\", payload: data });\n      \n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clearCart,\n        removeItem,\n        increaseItemQty,\n        decreaseItemQty,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n}\n\nexport function useGlobalContext() {\n  return useContext(AppContext);\n}\n\nexport { AppContext, AppProvider };\n","export default [\n  {\n    id: 1,\n    title: 'Samsung Galaxy',\n    price: 599.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: 'google pixel',\n    price: 499.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: 'Xiaomi',\n    price: 699.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1,\n  },\n];\n","import React from 'react';\nimport { useGlobalContext } from './context';\n\nfunction Navbar() {\n  const { amount } = useGlobalContext();\n\n  return (\n    <nav>\n      <div className='nav-center'>\n        <h3>useReducer</h3>\n        <div className='nav-container'>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\n          </svg>\n          <div className='amount-container'>\n            <span className='total-amount'>{amount}</span>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n","import React from 'react';\nimport { useGlobalContext } from './context';\n\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const { removeItem, increaseItemQty, decreaseItemQty } = useGlobalContext();\n\n  return (\n    <article className='cart-item'>\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className='item-price'>${price}</h4>\n        {/* remove button */}\n        <button\n          className='remove-btn'\n          onClick={() => removeItem(id)}\n        >\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button className='amount-btn' onClick={() => increaseItemQty(id)}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className='amount'>{amount}</p>\n        {/* decrease amount */}\n        <button className='amount-btn' onClick={() => decreaseItemQty(id)}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\n          </svg>\n        </button>\n      </div>\n    </article>\n  );\n}\n\nexport default CartItem;\n","import React from 'react'\nimport CartItem from './CartItem'\nimport { useGlobalContext } from './context'\n\nfunction CartContainer() {\n  const { cart, total, clearCart } = useGlobalContext();\n\n  if (cart.length === 0) {\n    return (\n      <section className='cart'>\n        {/* cart header */}\n        <header>\n          <h2>Your bag</h2>\n          <h4 className='empty-cart'>is currently empty</h4>\n        </header>\n      </section>\n    );\n  }\n\n  return (\n    <section className='cart'>\n      {/* cart header */}\n      <header>\n        <h2>your bag</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />;\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className='cart-total'>\n          <h4>\n            total <span>${total}</span>\n          </h4>\n        </div>\n        <button\n          className='btn clear-btn'\n          onClick={clearCart}\n        >\n          clear cart\n        </button>\n      </footer>\n    </section>\n  );\n}\n\nexport default CartContainer;\n","import React from 'react'\nimport { useGlobalContext } from './context'\n\n// components\nimport Navbar from './Navbar'\nimport CartContainer from './CartContainer'\n// items\n\nfunction App() {\n  const { loading } = useGlobalContext();\n\n  if (loading) {\n    return (\n      <div className='loading'>\n        <h1>Loading...</h1>\n      </div>\n    );\n  }\n\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}